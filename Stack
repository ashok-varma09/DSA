
#include <iostream>
using namespace std;

char stack[20] ;
char a[5] = {'5','-','2','+','3'};
int stackIndex=0;

char Pop ()
{
	stackIndex--;
	return stack[stackIndex];
}

void Push(int value)
{
	stack[stackIndex] = value;
	stackIndex++;

}

char Top()
{
	return stack[stackIndex-1];
}

int main()
{

	int length;
	int operands1,operands2;
	int ans;

	char op;
	length = sizeof(a);


	for (int i=0; i<length; i++)
	{
		Push(a[i]);// '{','5','+','(','2','+','3',')','}


		if(a[i]==')')// {5+(3+1)}
		{

			Pop();


			operands2=Pop()-'0';

			op =  Pop();

			operands1 = Pop()-'0';


			
				if(Top()=='(')
				{
					Pop();
				}
			


			switch(op)
			{
			case '+':

				ans = operands1+operands2;
				break;

			case '-':
				ans = operands1-operands2;
				break;

			case '*':
				ans = operands1*operands2;
				break;
			}

			cout<<"Before : "<<ans<<endl;

			Push((char)ans+'0');





		}


		if(a[i]=='}')
		{
			Pop();


			operands2 =Pop()-'0';

			op =  Pop();

			operands1 = Pop()-'0';


			switch(op)
			{
			case '+':

				ans = operands1+operands2;
				break;

			case '-':
				ans = operands1-operands2;
				break;

			case '*':
				ans = operands1*operands2;
				break;
			}



			
				if(Top()=='{')
				{
					Pop();
				}
			
			
			cout<<"after : "<<ans<<endl;


			Push((char)ans+'0');


		


		}

	}
	
	
	while(stackIndex>1)
	{
	    
	    operands2=Pop()-'0';
	    op=Pop();
	    operands1 = Pop()-'0';
	    
	    	switch(op)
			{
			case '+':

				ans = operands1+operands2;
				break;

			case '-':
				ans = operands1-operands2;
				break;

			case '*':
				ans = operands1*operands2;
				break;
			}
			
			cout<<"Answer : "<<ans<<endl;
			Push((char)ans+'0');
	}
        	
		cout<<"Top : "<<Top();
	return 0;
}
